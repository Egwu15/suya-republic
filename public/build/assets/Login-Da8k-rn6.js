import{r,W as w,j as e,a as d,y as u}from"./app-CGuY5ZnH.js";import{l as k}from"./Mobile-Logo-DjYHHJYk.js";import{u as G}from"./Store-7psY49o2.js";import{Q as C,B as h}from"./ReactToastify-YFcTK8Kj.js";import{I as x}from"./InputError-BvogivVw.js";const M=()=>{const[o,n]=r.useState(!1),[t,i]=r.useState({email:"",name:""}),{addGuest:E,saveGuestToLocalStorage:b,setGuest:p}=G(),[m,j]=r.useState(!1),f=()=>{j(s=>!s)},{data:a,setData:l,post:N,processing:S,errors:c,reset:g}=w({email:"",password:"",remember:!1}),y=s=>{s.preventDefault(),N(route("login"),{onFinish:()=>g("password"),onSuccess:()=>{u.visit(route("menu"))}})},v=s=>{if(s.preventDefault(),!t.name||!t.email){h.error("Please fill out all fields.");return}p(t),b(),h.success("Guest login successful!"),u.visit(route("menu"))};return e.jsxs("div",{className:"d-flex justify-content-center align-items-center vh-100 custom-bg",children:[e.jsx(C,{}),e.jsxs("div",{className:"card p-4 shadow",style:{maxWidth:"400px",width:"100%"},children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("img",{src:k,alt:"",className:"home-logo",style:{height:"50px"}}),e.jsx("h2",{className:"h5",children:o?"Guest Login":"Log in"})]}),o?e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"guestEmail",className:"form-label",children:"Email"}),e.jsx("input",{type:"email",id:"guestEmail",className:"form-control",placeholder:"Enter your email",value:t.email,onChange:s=>i({...t,email:s.target.value})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"guestName",className:"form-label",children:"Name"}),e.jsx("input",{type:"text",id:"guestName",className:"form-control",placeholder:"Enter your name",value:t.name,autoComplete:"name",onChange:s=>i({...t,name:s.target.value})})]}),e.jsx("button",{type:"submit",className:"btn btn-dark w-100",children:"Submit as Guest"}),e.jsx("div",{className:"my-2 d-flex justify-content-end ",children:e.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-link text-decoration-none  proceed-user ",children:"Login as a User"})})]}):e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("input",{type:"email",id:"email",className:"form-control",placeholder:"Enter your email",onChange:s=>l("email",s.target.value),value:a.email}),e.jsx(x,{message:c.email,className:"mt-2",style:{color:"red"}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:m?"text":"password",id:"password",className:"form-control",placeholder:"Enter your password",value:a.password,onChange:s=>l("password",s.target.value)}),e.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:f,children:e.jsx("i",{className:`bi ${m?"bi-eye-slash":"bi-eye"}`})})]}),e.jsx(x,{message:c.password,className:"mt-2",style:{color:"red"}})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",value:a.remember,onChange:s=>l("remember",s.target.value),id:"rememberMe",className:"form-check-input"}),e.jsx("label",{htmlFor:"rememberMe",className:"form-check-label",children:"Remember Me"})]}),e.jsx(d,{href:"/forgot-password",className:"text-decoration-none",children:"Forgot Password?"})]}),e.jsx("button",{type:"submit",className:"btn btn-dark w-100",children:"LOG IN"}),e.jsx("div",{className:"my-2 d-flex justify-content-center py-2 proceed-btn",children:e.jsx("button",{type:"button",onClick:()=>n(!0),className:"btn btn-link text-decoration-none text-dark text-center",children:"Proceed as Guest"})})]}),e.jsxs("div",{className:"text-center my-3",children:[e.jsx("span",{children:"New to ? "}),e.jsx(d,{href:"/signup",className:"text-decoration-none",children:"Create an account"})]})]})]})};export{M as default};
